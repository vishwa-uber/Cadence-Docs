"use strict";(globalThis.webpackChunkcadence=globalThis.webpackChunkcadence||[]).push([[2124],{6538:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"concepts/mutual-tls","title":"Mutual TLS (mTLS) Authentication","description":"This guide explains how to implement Mutual TLS (mTLS) authentication in Cadence to secure communication between clients and servers. mTLS provides bidirectional authentication, ensuring that both the client and server verify each other\'s identities before exchanging data.","source":"@site/docs/03-concepts/14-mutual-tls.md","sourceDirName":"03-concepts","slug":"/concepts/mutual-tls","permalink":"/Cadence-Docs/docs/concepts/mutual-tls","draft":false,"unlisted":false,"editUrl":"https://github.com/cadence-workflow/Cadence-Docs/tree/master/docs/03-concepts/14-mutual-tls.md","tags":[],"version":"current","lastUpdatedBy":"Vishwa Patil","lastUpdatedAt":1762023010000,"sidebarPosition":14,"frontMatter":{"layout":"default","title":"Mutual TLS (mTLS) Authentication","permalink":"/docs/concepts/mutual-tls"}}');var s=n(74848),r=n(28453);const l={layout:"default",title:"Mutual TLS (mTLS) Authentication",permalink:"/docs/concepts/mutual-tls"},c="Mutual TLS (mTLS) Authentication",a={},o=[{value:"Overview",id:"overview",level:2},{value:"What is Mutual TLS?",id:"what-is-mutual-tls",level:3},{value:"How mTLS Works",id:"how-mtls-works",level:2},{value:"Step-by-Step Process",id:"step-by-step-process",level:3},{value:"Implementing mTLS in Cadence",id:"implementing-mtls-in-cadence",level:2},{value:"Server Configuration",id:"server-configuration",level:3},{value:"Starting the Server with TLS",id:"starting-the-server-with-tls",level:4},{value:"Client Implementation",id:"client-implementation",level:3},{value:"Complete Working Example",id:"complete-working-example",level:2},{value:"Testing Scenarios",id:"testing-scenarios",level:2}];function d(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"mutual-tls-mtls-authentication",children:"Mutual TLS (mTLS) Authentication"})}),"\n",(0,s.jsx)(t.p,{children:"This guide explains how to implement Mutual TLS (mTLS) authentication in Cadence to secure communication between clients and servers. mTLS provides bidirectional authentication, ensuring that both the client and server verify each other's identities before exchanging data."}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsx)(t.h3,{id:"what-is-mutual-tls",children:"What is Mutual TLS?"}),"\n",(0,s.jsx)(t.p,{children:"Mutual TLS (mTLS) is an enhanced version of the standard TLS protocol where both parties in a communication authenticate each other. Unlike standard TLS where only the server is authenticated, mTLS requires both the client and server to present and verify certificates."}),"\n",(0,s.jsx)(t.p,{children:"In mTLS, both the client and server have a certificate, and both sides authenticate using their public/private key pair. This bidirectional authentication provides an additional layer of security, ensuring that:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"Clients can verify they're connecting to the legitimate server"}),"\n",(0,s.jsx)(t.li,{children:"Servers can verify the identity of connecting clients"}),"\n",(0,s.jsx)(t.li,{children:"All communication is encrypted end-to-end"}),"\n"]}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"how-mtls-works",children:"How mTLS Works"}),"\n",(0,s.jsx)(t.p,{children:"The mTLS handshake process involves the following steps:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                            mTLS Handshake Flow                          \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n\n  CLIENT                                                    SERVER\n    \u2502                                                          \u2502\n    \u2502  (1) Client initiates connection                         \u2502\n    \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500--\u2500> \u2502\n    \u2502                                                          \u2502\n    \u2502  (2) Server sends its certificate                        \u2502\n    \u2502  <\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 \u2524\n    \u2502                                                          \u2502\n    \u2502  (3) Client verifies server certificate                  \u2502\n    \u2502       \u2713 Check signature                                  \u2502\n    \u2502       \u2713 Validate certificate chain                       \u2502\n    \u2502       \u2713 Check expiration                                 \u2502\n    \u2502                                                          \u2502\n    \u2502  (4) Client sends its certificate                        \u2502\n    \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500--\u2500\u2500\u2500> \u2502\n    \u2502                                                          \u2502\n    \u2502  (5) Server verifies client certificate                  \u2502\n    \u2502                            \u2713 Check signature             \u2502\n    \u2502                            \u2713 Validate certificate chain  \u2502\n    \u2502                            \u2713 Check expiration            \u2502\n    \u2502                                                          \u2502\n    \u2502  (6) Server grants access                                \u2502\n    \u2502  <\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 \u2524\n    \u2502                                                          \u2502\n    \u2502  (7) Encrypted TLS connection established                \u2502\n    \u2502  <\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550>   \u2502\n    \u2502      All subsequent data is encrypted                    \u2502\n    \u2502                                                          \u2502\n"})}),"\n",(0,s.jsx)(t.h3,{id:"step-by-step-process",children:"Step-by-Step Process"}),"\n",(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Client connects to server"}),": The client initiates a connection to the server"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Server presents its TLS certificate"}),": The server sends its certificate to prove its identity"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Client verifies the server's certificate"}),": The client validates the server's certificate against trusted Certificate Authorities (CAs)"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Client presents its TLS certificate"}),": The client sends its own certificate to prove its identity"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Server verifies the client's certificate"}),": The server validates the client's certificate"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Server grants access"}),": Once both certificates are verified, the server allows the connection"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Client and server exchange information over encrypted TLS connection"}),": All data is now transmitted securely"]}),"\n"]}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"implementing-mtls-in-cadence",children:"Implementing mTLS in Cadence"}),"\n",(0,s.jsx)(t.h3,{id:"server-configuration",children:"Server Configuration"}),"\n",(0,s.jsx)(t.p,{children:"To enable mTLS in Cadence server, you need to configure TLS settings and start the server with the appropriate environment configuration."}),"\n",(0,s.jsx)(t.h4,{id:"starting-the-server-with-tls",children:"Starting the Server with TLS"}),"\n",(0,s.jsxs)(t.p,{children:["Use the ",(0,s.jsx)(t.code,{children:"--zone"})," flag to specify the TLS configuration when starting the Cadence server:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"./cadence-server --env development --zone tls start\n"})}),"\n",(0,s.jsxs)(t.p,{children:["This will load ",(0,s.jsx)(t.a,{href:"https://github.com/cadence-workflow/cadence/blob/master/config/development.yaml",children:"config/development.yaml"})," + ",(0,s.jsx)(t.a,{href:"https://github.com/cadence-workflow/cadence/blob/master/config/development_tls.yaml",children:"config/development_tls.yaml"}),". See ",(0,s.jsx)(t.a,{href:"https://github.com/cadence-workflow/cadence/blob/master/CONTRIBUTING.md#4-run",children:"CONTRIBUTING.md"})," for more details."]}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h3,{id:"client-implementation",children:"Client Implementation"}),"\n",(0,s.jsx)(t.p,{children:"To connect a Cadence client with mTLS, you need to configure TLS credentials and pass them to the Cadence client. Cadence client will use a gRPC transport object using your TLS settings to communicate with the server."}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"complete-working-example",children:"Complete Working Example"}),"\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.a,{href:"https://github.com/cadence-workflow/cadence-samples/tree/master/new_samples/client_samples/helloworld_tls",children:"helloworld_tls sample"})," provides a complete, tested implementation of mTLS with Cadence, including:"]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"Certificate generation scripts"}),"\n",(0,s.jsx)(t.li,{children:"Complete client implementation with mTLS"}),"\n",(0,s.jsx)(t.li,{children:"Instructions for running with a TLS-enabled server"}),"\n",(0,s.jsx)(t.li,{children:"Step-by-step setup guide"}),"\n"]}),"\n",(0,s.jsxs)(t.p,{children:["For additional server configuration examples, refer to the ",(0,s.jsx)(t.a,{href:"https://github.com/cadence-workflow/cadence",children:"Cadence server repository"})]}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"testing-scenarios",children:"Testing Scenarios"}),"\n",(0,s.jsx)(t.p,{children:"The following table outlines various testing scenarios for mTLS configuration:"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Server"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Client"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Expected"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Steps"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Unsecured"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Unsecured"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Success"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Server without TLS enabled; Client without TLS certs"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Secured"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Unsecured"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Fail"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Server with TLS enabled; Client without TLS certs"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Unsecured"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Secured"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Fail"}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["Server without TLS enabled; Client ",(0,s.jsx)(t.strong,{children:"with"})," TLS certs"]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Secured"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Secured"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Success"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Mutual TLS: Server with TLS enabled; Client with TLS enabled"})]})]})]})]})}function h(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>l,x:()=>c});var i=n(96540);const s={},r=i.createContext(s);function l(e){const t=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),i.createElement(r.Provider,{value:t},e.children)}}}]);