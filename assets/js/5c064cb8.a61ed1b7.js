"use strict";(self.webpackChunkcadence=self.webpackChunkcadence||[]).push([[1900],{98725:(e,a,n)=>{n.r(a),n.d(a,{assets:()=>i,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"get-started/grafana-helm-setup","title":"Grafana Helm Setup","description":"This guide explains how to set up Grafana for monitoring Cadence workflows and services using Helm charts. Helm simplifies the deployment and management of Grafana in Kubernetes environments. Pre-configured dashboards for Cadence are available to visualize metrics effectively.","source":"@site/docs/01-get-started/05-grafana-helm-setup.md","sourceDirName":"01-get-started","slug":"/get-started/grafana-helm-setup","permalink":"/Cadence-Docs/docs/get-started/grafana-helm-setup","draft":false,"unlisted":false,"editUrl":"https://github.com/cadence-workflow/Cadence-Docs/tree/master/docs/01-get-started/05-grafana-helm-setup.md","tags":[],"version":"current","lastUpdatedBy":"Vishwa Patil","lastUpdatedAt":1756835801000,"sidebarPosition":5,"frontMatter":{"layout":"default","title":"Grafana Helm Setup","permalink":"/docs/get-started/grafana-helm-setup"},"sidebar":"docsSidebar","previous":{"title":"Video Tutorials","permalink":"/Cadence-Docs/docs/get-started/video-tutorials"},"next":{"title":"Introduction","permalink":"/Cadence-Docs/docs/use-cases/"}}');var r=n(74848),t=n(28453);const o={layout:"default",title:"Grafana Helm Setup",permalink:"/docs/get-started/grafana-helm-setup"},l="Grafana Helm Setup",i={},c=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Setup Steps",id:"setup-steps",level:2},{value:"Step 1: Add Cadence Helm Repository",id:"step-1-add-cadence-helm-repository",level:3},{value:"Step 2: Deploy Prometheus Operator",id:"step-2-deploy-prometheus-operator",level:3},{value:"Step 3: Deploy Cadence with ServiceMonitor",id:"step-3-deploy-cadence-with-servicemonitor",level:3},{value:"Step 4: Access Grafana",id:"step-4-access-grafana",level:3},{value:"Step 5: Import Cadence Dashboards",id:"step-5-import-cadence-dashboards",level:3},{value:"Customization",id:"customization",level:2},{value:"Example: Override Helm Values",id:"example-override-helm-values",level:3},{value:"Additional Information",id:"additional-information",level:2}];function d(e){const a={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.header,{children:(0,r.jsx)(a.h1,{id:"grafana-helm-setup",children:"Grafana Helm Setup"})}),"\n",(0,r.jsx)(a.p,{children:"This guide explains how to set up Grafana for monitoring Cadence workflows and services using Helm charts. Helm simplifies the deployment and management of Grafana in Kubernetes environments. Pre-configured dashboards for Cadence are available to visualize metrics effectively."}),"\n",(0,r.jsx)(a.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,r.jsx)(a.p,{children:"Before proceeding, ensure the following:"}),"\n",(0,r.jsxs)(a.ul,{children:["\n",(0,r.jsx)(a.li,{children:"Kubernetes cluster is up and running."}),"\n",(0,r.jsxs)(a.li,{children:["Helm is installed on your system. Refer to the ",(0,r.jsx)(a.a,{href:"https://helm.sh/docs/intro/install/",children:"Helm installation guide"}),"."]}),"\n",(0,r.jsx)(a.li,{children:"Access to the Cadence Helm charts repository."}),"\n"]}),"\n",(0,r.jsx)(a.h2,{id:"setup-steps",children:"Setup Steps"}),"\n",(0,r.jsx)(a.h3,{id:"step-1-add-cadence-helm-repository",children:"Step 1: Add Cadence Helm Repository"}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-bash",children:"helm repo add cadence-workflow https://cadenceworkflow.github.io/cadence-charts\nhelm repo update\n"})}),"\n",(0,r.jsx)(a.h3,{id:"step-2-deploy-prometheus-operator",children:"Step 2: Deploy Prometheus Operator"}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-bash",children:"helm repo add prometheus-community https://prometheus-community.github.io/helm-charts\nhelm install prometheus-operator prometheus-community/kube-prometheus-stack \\\n  --namespace monitoring --create-namespace\n"})}),"\n",(0,r.jsx)(a.h3,{id:"step-3-deploy-cadence-with-servicemonitor",children:"Step 3: Deploy Cadence with ServiceMonitor"}),"\n",(0,r.jsxs)(a.p,{children:["Create a ",(0,r.jsx)(a.code,{children:"values.yaml"})," file to enable ServiceMonitor for automatic metrics scraping:"]}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-yaml",children:'# Enable metrics collection\nmetrics:\n  enabled: true\n  port: 9090\n  portName: metrics\n\n  serviceMonitor:\n    enabled: true\n    # Replace with the namespace where Prometheus is deployed\n    namespace: "monitoring"\n    namespaceSelector:\n      # Ensure this matches Prometheus\'s namespace\n      matchNames:\n        - monitoring\n    scrapeInterval: 10s\n    additionalLabels:\n      # Ensure this matches Prometheus\'s Helm release name\n      release: prometheus-operator\n    annotations: {}\n    jobLabel: "app.kubernetes.io/name"\n    targetLabels:\n      - app.kubernetes.io/name\n    relabelings: []\n    metricRelabelings: []\n'})}),"\n",(0,r.jsx)(a.p,{children:"Deploy Cadence:"}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-bash",children:"helm install cadence cadence-workflow/cadence \\\n  --namespace cadence --create-namespace \\\n  --values values.yaml\n"})}),"\n",(0,r.jsxs)(a.p,{children:[(0,r.jsx)(a.strong,{children:"Note:"})," Update the ",(0,r.jsx)(a.code,{children:"namespace"}),", ",(0,r.jsx)(a.code,{children:"matchNames"}),", and ",(0,r.jsx)(a.code,{children:"release"})," values to match your Prometheus deployment."]}),"\n",(0,r.jsx)(a.h3,{id:"step-4-access-grafana",children:"Step 4: Access Grafana"}),"\n",(0,r.jsx)(a.p,{children:"Get Grafana admin password:"}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-bash",children:'kubectl get secret --namespace monitoring prometheus-operator-grafana \\\n  -o jsonpath="{.data.admin-password}" | base64 --decode\n'})}),"\n",(0,r.jsx)(a.p,{children:"Access Grafana:"}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-bash",children:"kubectl port-forward --namespace monitoring svc/prometheus-operator-grafana 3000:80\n"})}),"\n",(0,r.jsxs)(a.p,{children:["Open ",(0,r.jsx)(a.a,{href:"http://localhost:3000",children:"http://localhost:3000"})," (admin/password from above)"]}),"\n",(0,r.jsx)(a.h3,{id:"step-5-import-cadence-dashboards",children:"Step 5: Import Cadence Dashboards"}),"\n",(0,r.jsxs)(a.ol,{children:["\n",(0,r.jsx)(a.li,{children:(0,r.jsx)(a.strong,{children:"Download the Cadence Grafana Dashboard JSON:"})}),"\n"]}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-bash",children:"curl https://raw.githubusercontent.com/cadence-workflow/cadence/refs/heads/master/docker/grafana/provisioning/dashboards/cadence-server.json -o cadence-server.json\n"})}),"\n",(0,r.jsxs)(a.ol,{start:"2",children:["\n",(0,r.jsxs)(a.li,{children:[(0,r.jsx)(a.strong,{children:"Import in Grafana:"})," ",(0,r.jsx)(a.strong,{children:"Dashboards"})," \u2192 ",(0,r.jsx)(a.strong,{children:"Import"})," \u2192 Upload JSON files"]}),"\n",(0,r.jsxs)(a.li,{children:[(0,r.jsx)(a.strong,{children:"Select Prometheus"})," as data source when prompted"]}),"\n",(0,r.jsx)(a.li,{children:"Try the same steps for other dashboards"}),"\n"]}),"\n",(0,r.jsx)(a.h2,{id:"customization",children:"Customization"}),"\n",(0,r.jsx)(a.p,{children:"The Grafana dashboards can be customized by editing the JSON files or modifying panels directly in Grafana. Additionally, Helm values can be overridden during installation to customize Grafana settings."}),"\n",(0,r.jsx)(a.h3,{id:"example-override-helm-values",children:"Example: Override Helm Values"}),"\n",(0,r.jsxs)(a.p,{children:["Create a ",(0,r.jsx)(a.code,{children:"values.yaml"})," file to customize Grafana settings:"]}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-yaml",children:'grafana:\n  adminPassword: "your-password"\n  dashboards:\n    enabled: true\n'})}),"\n",(0,r.jsx)(a.p,{children:"Install Grafana with the custom values:"}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-bash",children:"helm install grafana cadence/grafana -n cadence-monitoring -f values.yaml\n"})}),"\n",(0,r.jsx)(a.h2,{id:"additional-information",children:"Additional Information"}),"\n",(0,r.jsxs)(a.ul,{children:["\n",(0,r.jsx)(a.li,{children:(0,r.jsx)(a.a,{href:"https://github.com/cadence-workflow/cadence-charts",children:"Cadence Helm Charts Repository"})}),"\n",(0,r.jsx)(a.li,{children:(0,r.jsx)(a.a,{href:"https://grafana.com/docs/",children:"Grafana Documentation"})}),"\n",(0,r.jsx)(a.li,{children:(0,r.jsx)(a.a,{href:"https://helm.sh/docs/",children:"Helm Documentation"})}),"\n"]})]})}function h(e={}){const{wrapper:a}={...(0,t.R)(),...e.components};return a?(0,r.jsx)(a,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},28453:(e,a,n)=>{n.d(a,{R:()=>o,x:()=>l});var s=n(96540);const r={},t=s.createContext(r);function o(e){const a=s.useContext(t);return s.useMemo((function(){return"function"==typeof e?e(a):{...a,...e}}),[a,e])}function l(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),s.createElement(t.Provider,{value:a},e.children)}}}]);